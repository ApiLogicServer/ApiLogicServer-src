"use strict";(self.webpackChunkreact_admin_upgrade=self.webpackChunkreact_admin_upgrade||[]).push([[2007],{22007:(e,n,t)=>{t.r(n),t.d(n,{ApiAdminHome:()=>f.Vk,ApiFab:()=>B.Q,ApiGenerateField:()=>f.Sm,ApiShow:()=>f.kE,ApiUserPasswordTab:()=>C,ConnectionString:()=>$,CreateApiFab:()=>Y,CreateLocation:()=>X,CustomTab:()=>W,CustomerLabel:()=>J,DBConnection:()=>f.Nl,DownloadProject:()=>R,EmployeeLabel:()=>I,GApiFab:()=>B.V,MyComp:()=>P,Overlay:()=>q,ProjectLink:()=>U,Running:()=>D,SampleColumnField:()=>G,UserPasswordField:()=>Q,UserPasswordTab:()=>b,showApiFab:()=>K});var r=t(68903),s=t(85865),o=t(94698),i=t(73896),a=t(65043),d=t(85546),l=t(22086),c=t(10510),p=t(52019),x=t(26791),h=t(70579),u=t(11906),m=t(81e3),g=t(67784),j=t(53193),v=t(76738),w=t(51247),y=t(31335),A=t(4611);const b=()=>{const e=(0,y.wy)(),n=(0,A.l)(),t=(0,d.i)(),[o,i]=((0,v.L)(),(0,a.useState)("")),[l,c]=(0,a.useState)(""),[p,x]=(0,a.useState)("secondary");return(0,h.jsx)(m.A,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:(0,h.jsxs)(j.A,{children:[(0,h.jsx)(r.Ay,{item:!0,xs:12,spacing:4,children:(0,h.jsx)(s.A,{variant:"body2",component:"p",children:(0,h.jsx)("b",{children:"Change the user password"})})}),(0,h.jsx)(r.Ay,{item:!0,xs:12,spacing:4,children:(0,h.jsx)(g.A,{id:"outlined-password-input",label:"New Password",type:"password",onChange:e=>{let n=e.target.value;i(n),x(n===l&&n.length>5?"primary":"secondary")}})}),(0,h.jsx)(r.Ay,{item:!0,xs:12,spacing:4,children:(0,h.jsx)(g.A,{id:"outlined-password-input",label:"Repeat Password",type:"password",onChange:e=>{let n=e.target.value;c(n),x(o===n&&o.length>5?"primary":"secondary")}})}),(0,h.jsx)(r.Ay,{item:!0,xs:12,spacing:4,children:(0,h.jsx)(u.A,{variant:"contained",color:p,onClick:()=>{if(o!==l)return void n("Passwords don't match",{type:"warning"});if(o.length<6)return void n("Password too short",{type:"warning"});const r={password:o};(0,w.s9)("".concat(e.api_root,"/Users/").concat(null===t||void 0===t?void 0:t.id,"/change_password"),{method:"POST",body:JSON.stringify(r)}).then((()=>n("Password Changed!"))).catch((()=>n("Error Changing Password",{type:"warning"})))},children:"Submit"})})]})})},C=()=>{const e=(0,y.wy)(),n=(0,A.l)(),t=(0,d.i)(),[o,i]=((0,v.L)(),(0,a.useState)("")),[l,c]=(0,a.useState)(""),[p,x]=(0,a.useState)(""),[b,C]=(0,a.useState)("secondary");return(0,h.jsx)(m.A,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:(0,h.jsxs)(j.A,{children:[(0,h.jsx)(r.Ay,{item:!0,xs:12,spacing:4,component:"div",children:(0,h.jsx)(s.A,{variant:"body2",component:"p",children:(0,h.jsx)("b",{children:"Current user password"})})}),(0,h.jsx)(r.Ay,{item:!0,xs:12,spacing:4,component:"div",children:(0,h.jsx)(g.A,{id:"outlined-password-input",label:"Current Password",type:"password",onChange:e=>{let n=e.target.value;i(n),C(n===p&&n.length>5?"primary":"secondary")}})}),(0,h.jsx)(r.Ay,{item:!0,xs:12,spacing:4,component:"div",children:(0,h.jsx)(s.A,{variant:"body2",component:"p",children:(0,h.jsx)("b",{children:"New user password"})})}),(0,h.jsx)(r.Ay,{item:!0,xs:12,spacing:4,component:"div",children:(0,h.jsx)(g.A,{id:"outlined-password-input",label:"New Password",type:"password",onChange:e=>{let n=e.target.value;c(n),C(n===p&&n.length>5?"primary":"secondary")}})}),(0,h.jsx)(r.Ay,{item:!0,xs:12,spacing:4,component:"div",children:(0,h.jsx)(g.A,{id:"outlined-password-input",label:"Repeat Password",type:"password",onChange:e=>{let n=e.target.value;x(n),C(l===n&&l.length>5?"primary":"secondary")}})}),(0,h.jsx)(r.Ay,{item:!0,xs:12,spacing:4,component:"div",children:(0,h.jsx)(u.A,{variant:"contained",color:b,onClick:()=>{if(l!==p)return void n("Passwords don't match",{type:"warning"});if(l.length<1)return void n("Password too short",{type:"warning"});const r={password:l};(0,w.s9)("".concat(e.api_root,"/Users/").concat(null===t||void 0===t?void 0:t.id,"/change_password"),{method:"POST",body:JSON.stringify(r)}).then((()=>n("Password Changed!"))).catch((()=>n("Error Changing Password",{type:"warning"})))},children:"Submit"})})]})})};var f=t(82732);const P=e=>(0,h.jsx)("div",{children:"HMMMM"});var S=t(88446),k=t(17392),F=t(16485),_=t(1243),M=t(19778),N=t(85502),T=t(22172),V=t(32982);const H={position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",width:"fit-content",bgcolor:"background.paper",BorderRadius:"4px",boxShadow:24,p:4,textAlign:"center"},L={color:"primary.main",border:"0px solid red",borderColor:"primary.main",backgroundColor:"transparent"},z=e=>{let{record:n}=e;const t=n.running,[r,s]=a.useState(!1),o=e=>{e.stopPropagation(),s(!1)};let i=t?(0,h.jsx)(M.A,{sx:{color:"#39b38a",fontSize:"1.4em"}}):(0,h.jsx)(N.A,{sx:{color:"#444",fontSize:"1.4em"}});return(0,h.jsxs)("div",{children:[(0,h.jsx)(u.A,{variant:"text",sx:L,onClick:e=>{s(!0),e.stopPropagation()},children:i}),(0,h.jsx)(_.A,{open:r,onClose:o,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:(0,h.jsxs)(m.A,{sx:H,children:[(0,h.jsx)(E,{}),(0,h.jsx)(u.A,{onClick:o,sx:{mt:2},variant:"outlined",children:"Close Window"})]})})]})},E=()=>{const e=(0,d.i)(),n=(0,A.l)(),t=(0,T.b)(),r=null!==e&&void 0!==e&&e.running?"Stop":"Start",[o,{data:i,isPending:l,error:c}]=(0,V.x)("Project",{id:null===e||void 0===e?void 0:e.id,data:{running:!(null!==e&&void 0!==e&&e.running)},previousData:e});return(0,a.useEffect)((()=>{c&&(console.warn("StartStopBox",c.message,c,i,l),n("".concat(null===c||void 0===c?void 0:c.message),{type:"error"}))}),[c]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(s.A,{sx:{mt:2},children:(0,h.jsxs)(u.A,{variant:"outlined",onClick:e=>{e.stopPropagation(),o(),n("".concat(r," app")),setTimeout((()=>{t(),c&&console.error("startstop r:",c)}),2e3)},children:[r," the application"]})})})};var O=t(41132);const D=()=>{const e=(0,d.i)();return e?(0,h.jsx)(m.A,{sx:{textAlign:"center"},children:(0,h.jsx)(m.A,{sx:{display:"flex",alignItems:"center"},children:(0,h.jsx)(z,{record:e})})}):null},U=()=>{const e=(0,d.i)();return e&&e.running?(0,h.jsx)(S.A,{href:e.link,target:"_blank",onClick:e=>e.stopPropagation(),children:(0,h.jsx)(F.A,{sx:{color:"rgb(63, 81, 181)"}})}):null},R=()=>{const e=(0,d.i)();return e?(0,h.jsx)(S.A,{title:"Download",href:e.download,target:"_blank",onClick:e=>e.stopPropagation(),children:(0,h.jsx)(k.A,{children:(0,h.jsx)(O.A,{sx:{color:"rgb(63, 81, 181)"}})})}):(0,h.jsx)(h.Fragment,{})};var B=t(54004);const G=e=>{let{attribute:n}=e;return console.log("attribute: ",n),(0,h.jsx)(o.A,{source:n.name,style:{color:"red"}},n.name)},I=e=>{var n,t;const r=e.instance;return(0,h.jsxs)("div",{children:[" ",null===(n=r.attributes)||void 0===n?void 0:n.FirstName," ",null===(t=r.attributes)||void 0===t?void 0:t.LastName]})},J=e=>{var n,t;const r=e.instance;return(0,h.jsxs)("div",{children:[" ",(0,h.jsx)("b",{children:null===(n=r.attributes)||void 0===n?void 0:n.CompanyName})," ",(0,h.jsx)("i",{children:null===(t=r.attributes)||void 0===t?void 0:t.ContactName})]})},Q=e=>"list"===e.mode?(0,h.jsx)("span",{}):"edit"===e.mode?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.Ay,{item:!0,xs:12,spacing:4,children:(0,h.jsx)(s.A,{variant:"h6",component:"h6",children:"Change Password"})}),(0,h.jsxs)(r.Ay,{item:!0,xs:4,spacing:4,children:[(0,h.jsx)(i.y,{source:"_password"})," "]}),(0,h.jsxs)(r.Ay,{item:!0,xs:4,spacing:4,children:[(0,h.jsx)(i.y,{source:"_password"})," "]}),(0,h.jsx)(r.Ay,{item:!0,xs:4,spacing:4})]}):(0,h.jsx)(h.Fragment,{}),W=e=>{(0,d.i)();return(0,h.jsx)("div",{children:"Some Text"})},X=e=>(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(c.X,{children:(0,h.jsx)(p.G,{attributes:[]})})}),q=()=>(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{id:"popup-overlay"})}),K=()=>(0,h.jsx)(x.jb,{}),Y=()=>{const e=(0,l.w)();return a.useEffect((()=>{e("/Home")}),[]),(0,h.jsx)(h.Fragment,{})},Z=e=>{let n=null;if(e){const t=e.match(/(.*):(.*)@(.*)/);n=t?"".concat(t[1],":********@").concat(t[3]):e}return(0,h.jsx)(h.Fragment,{children:n})},$=e=>{const n=(0,d.i)();return(0,h.jsx)("span",{children:Z(null===n||void 0===n?void 0:n.connection_string)})}},41132:(e,n,t)=>{var r=t(24994);n.A=void 0;var s=r(t(40039)),o=t(70579);n.A=(0,s.default)((0,o.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},16485:(e,n,t)=>{var r=t(24994);n.A=void 0;var s=r(t(40039)),o=t(70579);n.A=(0,s.default)((0,o.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew")}}]);
//# sourceMappingURL=2007.9dbebbd9.chunk.js.map